/* ===========================
   UNIKOR – RELATÓRIOS (clássico)
   =========================== */

/* ---- Paleta/vars (mesma do Pedidos) ---- */
:root{
  --brand: #1e7f46;         /* barra superior */
  --brand-600:#166c3a;

  --green:#1b7a3f;          /* botões/links */
  --ink:#0f172a;
  --muted:#64748b;
  --bg:#f1f5f9;
  --card:#ffffff;
  --line:#e2e8f0;
  --zebra1:#fff;
  --zebra2:#f6fafb;
  --shadow: 0 10px 30px rgba(16,24,40,.06), 0 4px 8px rgba(16,24,40,.06);
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg); color:var(--ink);
}

/* ================= Header ================= */
.topbar{
  background:var(--brand); color:#fff;
  position:sticky; top:0; z-index:200;
  box-shadow:0 1px 0 #00000014;
}
.topbar .wrap{
  max-width:1100px; margin:0 auto; padding:12px 16px;
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:12px;
}
.topbar .logo{ display:inline-flex; align-items:center; gap:10px; text-decoration:none }
.topbar .logo img{ height:60px; width:auto; display:block } /* dobro do tamanho */
.topbar h1{
  margin:0; text-align:center; letter-spacing:.5px;
  font-size:18px; font-weight:800; text-transform:uppercase;
}
.topbar .user{ font-weight:700 }

/* =============== Container/Cards =============== */
.container{ max-width:1100px; margin:18px auto; padding:0 16px }
.card{
  background:var(--card); border:1px solid var(--line);
  border-radius:16px; box-shadow:var(--shadow);
  padding:16px; margin-bottom:14px;
}

/* =============== Filtros =============== */
.filters .filters-title{ display:none } /* esconder “LEO” */
.grid{ display:grid; gap:12px; grid-template-columns:repeat(12,minmax(0,1fr)) }
.field{ display:flex; flex-direction:column; gap:6px }
.field label{ font-size:13px; color:var(--muted) }
.field input,.field select,.field textarea{
  width:100%; background:#fff; color:var(--ink);
  border:1px solid var(--line); padding:12px 14px; border-radius:14px; outline:none;
  box-shadow:0 1px 0 #00000006 inset;
}
.field input:focus,.field select:focus,.field textarea:focus{
  border-color:#b7dde0; box-shadow:0 0 0 4px #0ea5a616;
}
/* mapa das colunas */
.filters .grid .field:nth-child(1),
.filters .grid .field:nth-child(2),
.filters .grid .field:nth-child(3),
.filters .grid .field:nth-child(4){ grid-column:span 6 }
.filters .grid .field:nth-child(5){ grid-column:1 / -1 } /* Cliente em linha única */
.filters .grid .field:nth-child(6),
.filters .grid .field:nth-child(7){ grid-column:span 6 }
@media (max-width: 719px){
  .filters .grid .field{ grid-column:1 / -1 }
}

/* Ações – 2 por linha */
.actions{
  margin-top:8px; display:grid; gap:10px; grid-template-columns:1fr 1fr;
}
.btn{
  display:inline-flex; justify-content:center; align-items:center; gap:8px;
  padding:12px 16px; border-radius:16px; border:1px solid transparent;
  font-weight:700; cursor:pointer; text-decoration:none; user-select:none; min-height:46px;
  transition:transform .02s ease, filter .15s ease;
}
.btn:active{ transform:translateY(1px) }
.btn-primary{ background:var(--green); color:#fff }
.btn-primary:hover{ filter:brightness(.96) }
.btn-outline{ background:#fff; border-color:#cfe6d9; color:var(--green) }
.btn-outline:hover{ background:#f7fbf8 }
.btn-gray{ background:#374151; color:#fff }
.btn-gray:hover{ filter:brightness(1.06) }

/* =============== Tabela =============== */
.table-wrap .table-scroll{
  overflow:auto; border-radius:14px; border:1px solid var(--line);
  /* ↓↓↓ ajuste p/ desktop ver todas as colunas e permitir rolar */
  max-height: calc(100vh - 320px);
}
table{ width:100%; border-collapse:separate; border-spacing:0 }
thead th{
  position:sticky; top:0; background:#eefaf1; color:#0b4350; z-index:1;
  font-weight:800; text-align:left; padding:12px 16px; border-bottom:1px solid var(--line);
}
tbody td{ padding:16px; border-bottom:1px solid var(--line) }
tbody tr:nth-child(odd){ background:var(--zebra1) }
tbody tr:nth-child(even){ background:var(--zebra2) }
tbody tr:hover{ background:#eef6f7 }
.center{ text-align:center }
.muted{ color:var(--muted) }
/* números à direita */
.table-wrap table td:nth-child(5), .table-wrap table td:nth-child(8){ text-align:right }

/* Ações/links */
.cell-client{ color:var(--green); font-weight:800; cursor:pointer; text-decoration:underline }
.btn.icon{
  background:#f3f4f6; border:1px solid #e5e7eb; border-radius:12px; padding:8px 10px;
  font-size:18px; line-height:0; cursor:pointer;
}
.btn.icon:hover{ filter:brightness(.97) }
/* “X” vermelho (somente cor) */
.btn-cancel{ background:#fff; border-color:#f5c7c7; color:#c0392b }
.btn-cancel:hover{ background:#fdecec }

/* =============== Rodapé fixo de totais (4 colunas) =============== */
.footer-totals{
  display:grid; grid-template-columns:repeat(4,1fr);
  gap:8px; padding:10px 8px calc(10px + env(safe-area-inset-bottom));
  border:1px solid var(--line); border-radius:14px; background:#fff; margin-top:12px;
  position:sticky; bottom:8px; box-shadow:var(--shadow);
}
.footer-totals .ft-box{ text-align:center }
.footer-totals .ft-label{
  font-size:11px; color:var(--muted); letter-spacing:.35px; margin-bottom:3px; font-weight:700;
}
.footer-totals #ftCount,
.footer-totals #ftItens,
.footer-totals #ftTotal,
.footer-totals #ftFrete{
  font-weight:800; font-size:16px; white-space:nowrap;
}

/* ===========================
   MODAL — Edição de Pedido
   =========================== */

/* camada e backdrop */
.modal{ position:fixed; inset:0; z-index:9999; display:none }
.modal[aria-hidden="false"]{
  display:flex; align-items:flex-start; justify-content:center;
}
.modal-backdrop{
  position:absolute; inset:0; background:rgba(15,23,42,.45); backdrop-filter:saturate(110%) blur(2px);
}

/* cartão */
.modal-card{
  position:relative;
  margin:28px 12px;            /* respiro nas bordas */
  max-width:960px; width:100%;
  background:#fff; border-radius:18px;
  box-shadow:0 20px 50px rgba(2,6,23,.18), 0 4px 10px rgba(2,6,23,.08);
  overflow:hidden;             /* para o radius aparar o conteúdo */
}

/* header / footer fixos dentro do card */
.modal-header, .modal-footer{
  position:sticky; z-index:2; background:#fff;
  display:flex; align-items:center; gap:12px;
}
.modal-header{
  top:0; padding:16px 18px; border-bottom:1px solid #e7edf3;
}
.modal-header h3{
  margin:0; font-size:22px; font-weight:800; letter-spacing:.2px; color:#0f172a;
}
.modal-close{
  margin-left:auto; border:1px solid #e5e7eb; background:#fff;
  border-radius:12px; padding:6px 12px; font-size:22px; line-height:1;
  cursor:pointer; color:#475569;
}
.modal-close:hover{ background:#f8fafc }

.modal-footer{
  bottom:0; top:auto;
  padding:12px 16px; border-top:1px solid #e7edf3;
  justify-content:flex-end; gap:10px;
}

/* corpo com rolagem, mantendo header/footer visíveis */
.modal-body{
  max-height:calc(100vh - 180px);
  overflow:auto; padding:16px 18px;
}

/* grid dos campos (topo do modal) */
.modal .grid{
  display:grid; gap:12px; grid-template-columns:repeat(12,minmax(0,1fr));
}
.modal .grid > div{ grid-column:span 6 }          /* 2 colunas */
.modal .grid > div[style*="grid-column:1/-1"]{ grid-column:1 / -1 } /* Observações full */

/* inputs do modal – igual ao formulário principal */
.modal input,.modal select,.modal textarea{
  width:100%; background:#fff; color:#0f172a;
  border:1px solid #e7edf3; border-radius:14px;
  padding:12px 14px; outline:none; box-shadow:0 1px 0 #00000006 inset;
}
.modal input:focus,.modal select:focus,.modal textarea:focus{
  border-color:#b7dde0; box-shadow:0 0 0 4px #0ea5a616;
}
.modal label{ display:block; font-size:13px; color:#6b7280; margin:2px 0 6px }

/* ===== Tabela de Itens ===== */
.items-table{
  width:100%; border:1px solid #e7edf3; border-radius:12px;
  overflow:auto; background:#fff; border-collapse:separate; border-spacing:0;
}

/* larguras por coluna:
   1) Descrição = ~50% mais comprida
   2) Qtd = ~65% menor que era (compacta)
   3) Un = dobro do tamanho anterior */
.items-table table{ width:100%; table-layout:fixed }
.items-table thead th:nth-child(1), .items-table tbody td:nth-child(1){ width:52% } /* Descrição */
.items-table thead th:nth-child(2), .items-table tbody td:nth-child(2){ width:10% } /* Qtd */
.items-table thead th:nth-child(3), .items-table tbody td:nth-child(3){ width:12% } /* Un */
.items-table thead th:nth-child(4), .items-table tbody td:nth-child(4){ width:13% } /* Preço */
.items-table thead th:nth-child(5), .items-table tbody td:nth-child(5){ width:13% } /* Subtotal */
.items-table thead th:nth-child(6), .items-table tbody td:nth-child(6){ width:10ch } /* Del. */

/* visual da tabela */
.items-table thead th{
  background:#f6fafb; text-align:left; padding:10px 12px;
  border-bottom:1px solid #e7edf3; font-weight:700; color:#475569;
}
.items-table tbody td{ padding:8px 10px; border-bottom:1px solid #eef2f6; background:#fff }
.items-table tbody tr:nth-child(even){ background:#f8fafc }

/* campos */
.items-table input[type="text"],
.items-table input[type="number"],
.items-table select{
  width:100%; padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px; background:#fff;
}
.items-table input:focus, .items-table select:focus{
  border-color:#b7dde0; box-shadow:0 0 0 3px #0ea5a616;
}

/* alinhamento numérico */
.items-table td:nth-child(2) input,
.items-table td:nth-child(4) input,
.items-table td:nth-child(5) input{ text-align:right }

/* botão “X” vermelho */
.items-table .btn.danger{
  display:inline-flex; align-items:center; justify-content:center;
  background:#fff; border:1px solid #f5c7c7; color:#c0392b;
  border-radius:10px; padding:6px 10px; min-width:38px;
}
.items-table .btn.danger:hover{ background:#fdecec }

/* mobile: rolagem horizontal da tabela, card mais justo */
@media (max-width:720px){
  .modal-card{ margin:14px 8px }
  .modal .grid > div{ grid-column:1 / -1 }      /* 1 coluna no mobile */
  .modal-body{ max-height:calc(100vh - 140px) }
}
@media (max-width:560px){
  .items-table{ overflow-x:auto }
  .items-table table{ min-width: 620px }        /* usuário arrasta se faltar espaço */
}