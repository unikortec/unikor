:root{
  --brand:#1e7f46; --brand-600:#166c3a;
  --ink:#0f172a; --muted:#64748b; --bg:#f1f5f9; --line:#e2e8f0;
  --danger:#dc2626; --gray:#475569; --ok:#0b5;
}
*{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;background:var(--bg);color:var(--ink)}
.topbar{display:flex;align-items:center;gap:12px;padding:10px 14px;background:var(--brand);color:#fff}
.topbar .ttl{margin:0;font-size:18px} .topbar .brand{margin-left:auto;height:20px}
.link{color:#fff;text-decoration:none}
.container{max-width:1200px;margin:12px auto;padding:0 12px 36px}
.card{background:#fff;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.06);padding:14px}
.filters{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px}
.filters .span-2{grid-column:span 2}
label{font-size:12px;color:#334155;display:block;margin-bottom:4px}
input,select,button{font:inherit} input,select{width:100%;padding:8px;border:1px solid var(--line);border-radius:8px;outline:0;background:#fff}
.actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
.btn{border:1px solid var(--brand-600);background:var(--brand-600);color:#fff;padding:8px 12px;border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;gap:8px}
.btn.ghost{background:#fff;color:var(--brand-600)}
.btn.warning{background:var(--ok);border-color:var(--ok)}
.btn.gray{background:var(--gray);border-color:var(--gray)}
.btn.danger{background:var(--danger);border-color:var(--danger)}
.btn[disabled]{opacity:.7;cursor:default}
.spinner{width:14px;height:14px;border:2px solid #ffffff80;border-top-color:#fff;border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

.table-wrap{margin-top:14px;overflow:auto;border-radius:10px;border:1px solid var(--line)}
.t{width:100%;min-width:1120px;border-collapse:collapse;background:#fff;table-layout:fixed}
.t thead th{position:sticky;top:0;background:#f8fafc;border-bottom:1px solid var(--line);text-align:left;font-size:12px;color:#334155;padding:10px}
.t tbody td{border-bottom:1px solid #f1f5f9;padding:10px;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
tfoot td{background:#f8fafc;font-weight:600;padding:10px;border-top:1px solid var(--line)}
.cell-client{color:#1e7f46;text-decoration:underline;cursor:pointer}
.right{text-align:right} .muted{color:var(--muted);font-size:12px}

.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;padding:16px;z-index:9999}
.modal{width:min(100%,980px);max-height:90vh;overflow:auto;background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.25);padding:16px}
.modal header{background:transparent;color:var(--ink);padding:0;margin-bottom:10px}
.modal h2{margin:0;font-size:18px}
.grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px;margin-bottom:10px}
.grid .span-3{grid-column:span 3} .grid .span-4{grid-column:span 4}
.items{width:100%;border-collapse:collapse;margin-top:6px}
.items th,.items td{border:1px solid var(--line);padding:8px;font-size:13px;text-align:left}
@media (max-width:980px){.filters{grid-template-columns:repeat(2,minmax(0,1fr))}}